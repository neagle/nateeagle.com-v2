<html><head><title>NateEagle.com</title></head><body><header><h1><a class="draw draw-in" href="/">Nate Eagle</a></h1></header><section class="column post"><article><time>November 7th, 2011</time><h2>Sharpening the Vim</h2><div class="content"><p>I&#39;m somewhat ambivalent about Franklin Covey in general, but I must acknowledge that using the metaphor <a href="http://www.franklincovey.com/blog/tag/habit-7-sharpen-the-saw">sharpening the saw</a> to describe the vital habit of self-improvement is pretty awesome, largely because it implies that the most important thing in life is going around with a sharp-ass saw.</p>
<p>I&#39;ve been a happy Vim user since <a href="http://concisionandconcinnity.blogspot.com/">Ian McCracken</a> introduced me to it a couple years ago. I&#39;m not really sure it makes me a better programmer or person, especially since I&#39;m not really sure that editor speed is the limiting factor in my work productivity. (I can type much, much faster than I can usefully think. As <a href="http://www.crockford.com/">Douglas Crockford</a> said at the recent Capitol JS Conference (paraphrased), &quot;Most of the time you spend programming isn&#39;t spent coding: it&#39;s spent staring into the abyss saying, &#39;My God, what have I done?&#39;&quot;)</p>
<p>That said, Vim makes entering and editing text feel effortless and elegant rather than frustrating. And, really, if you enter/edit text for a living, priority number one is making it an enjoyable or at least endurable task. For me, the big thing is that I don&#39;t have to switch back and forth between a mouse and the keyboard.</p>
<p>The best intro to Vim is probably just to pull up your terminal and type <code>vimtutor</code>, an interactive tutorial that takes maybe twenty to thirty minutes. It&#39;ll teach you everything you need to know to get started. But as <a href="http://yannesposito.com/">Yann Esposito</a> says in his excellent <a href="http://yannesposito.com/Scratch/en/blog/Learn-Vim-Progressively/">Learn Vim Progressively</a> entry: &quot;Learning vim will be painful at first. It will take time. It will be a lot like playing a music instrument.&quot;</p>
<p>I&#39;ve used Vim for, I dunno, two years now, and it&#39;s easy to settle into ruts. I&#39;ve got ways of accomplishing everything I need, but they&#39;re not all elegant. Last week, <a href="http://artzstudio.com">Dave Artz</a>, the AOLer who hired me (high five, Dave!) started trying out Vim. The last few days, he&#39;s IMed me repeatedly asking about different ways to do things, plenty of which I had to look up. It was a good reminder that there&#39;s lots I have yet to effectively learn or internalize, and that my ability to play this particular instrument still has plenty of room to grow.</p>
<p>Which is awesome. So: that lengthy introduction aside, these are a few of the things I&#39;ve had to look up that I want to write down so that I can remember them for the future.</p>
<h3 id="vim-pbcopy-on-os-x">Vim &amp; pbcopy on OS X</h3>
<p><code>pbcopy</code> and <code>pbpaste</code> are the bees&#39; knees: they&#39;re commands that use OS X&#39;s system clipboard (&quot;paste board&quot; is the OS X name, I guess) via terminal.</p>
<p>Adding this mapping to your <code>.vimrc</code> will let you use <code>ctrl-x</code> and <code>ctrl-c</code> to cut/copy the current visual selection to OS X&#39;s pasteboard.</p>
<p>{% highlight vim %}
vmap <C-x> :!pbcopy<CR>
vmap <C-c> :w !pbcopy<CR><CR>
{% endhighlight %}</p>
<p>Via <a href="http://drydevelopment.com/blog/vim-pbcopy-on-os-x.">drydevelopment.com</a></p>
<h3 id="change-the-colorscheme">Change the Colorscheme</h3>
<p>This one&#39;s super dumb, but when I was trying to find a decent colorscheme for Vim (I&#39;m using <a href="http://www.vim.org/scripts/script.php?script_id=105">desert</a>,) I kept closing Vim, editing my .vimrc, and reopening Vim. LIKE A CHUMP.</p>
<p><code>:colorscheme desert</code></p>
<h3 id="using-the-leader">Using the Leader</h3>
<p>I&#39;ve been pretty resistant to customizing Vim. I don&#39;t like reassigning default functionality till I&#39;m really sure I understand it. What if I break a feature I haven&#39;t discovered yet because of today&#39;s shortsightedness?</p>
<p>But Vim has a <a href="http://stevelosh.com/blog/2010/09/coming-home-to-vim/#using-the-leader">leader key</a>. the entire role of which is to give you a whole bunch of blank namespace to create custom commands. The default is <code>\</code>, but Steve Losh (the dude who wrote the article I just linked to) argues (to me persuasively) that <code>,</code> (the comma) is easier to reach and not used for anything else. Nice: the freedom to make useful custom stuff without worrying about messing things up for myself later on.</p>
<p>And, actually, <a href="http://stevelosh.com/blog/2010/09/coming-home-to-vim/">that whole article</a> is worth reading. He explains his whole <code>.vimrc</code> file in the most detail I&#39;ve encountered. Well, maybe I should say that he explains it with the fewest assumptions about existing knowledge on the part of his reader. Which I appreciate.</p>
<h3 id="jsbeautify">jsBeautify</h3>
<p><a href="http://www.vim.org/scripts/script.php?script_id=2727">jsBeautify</a> will clean up messy, inconsistently formatted JavaScript file with a single command. Awesome, but I need to figure out how much work would be involved in modifying it to follow <a href="http://docs.jquery.com/JQuery_Core_Style_Guidelines.">the jQuery style guidelines</a></p>
<h3 id="remove-unwanted-whitespace">Remove Unwanted Whitespace</h3>
<p>It&#39;s simple to <a href="http://vim.wikia.com/wiki/Remove_unwanted_spaces">remove unwanted whitespace</a>:</p>
<p>bq.. Delete all trailing whitespace (at the end of each line) with:</p>
<p><code>:%s/\s\+$//</code></p>
<p>More rarely, a user might want to delete whitespace at the beginning of each line:</p>
<p><code>:%s/^\s\+</code></p>
<h3 id="comment-out-a-range-of-lines">Comment Out a Range of Lines</h3>
<p>Too lengthy to quote, here&#39;s <a href="http://vim.wikia.com/wiki/Commenting_out_a_range_of_lines.">the page</a></p>
<h3 id="wrap-visual-selection-in-an-html-tag-">Wrap visual selection in an HTML tag.</h3>
<p>{% highlight vim %}
vmap <Leader>w <Esc>:call VisualHTMLTagWrap()<CR>
function! VisualHTMLTagWrap()
let tag = input(&quot;Tag to wrap block: &quot;)
if len(tag) &gt; 0
normal <code>&gt; if &amp;selection == &#39;exclusive&#39; exe &quot;normal i&lt;/&quot;.tag.&quot;&gt;&quot; else exe &quot;normal a&lt;/&quot;.tag.&quot;&gt;&quot; endif normal</code>&lt;
exe &quot;normal i&lt;&quot;.tag.&quot;&gt;&quot;
normal `&lt;
endif
endfunction
{% endhighlight %}</p>
<p>p. Put it in <code>~/.vim/scripts/wrapwithtag.vim</code> and enable in <code>~/.vimrc</code></p>
<p>bc. :au Filetype html,xml source ~/.vim/scripts/wrapwithtag.vim</p>
<p>p. When editing HTML file, visually highlight text and press {Leader} w, enter tag name.</p>
<h3 id="scrolling-quickly">Scrolling Quickly</h3>
<p>p. I tend to move quickly around a file either by typing a linenumber + G (which is awesome but too precise to be useful, many times) or holding down <code>j</code> or <code>k</code>. (LIKE A CHUMP.)</p>
<p>Scrolling is easy. The most useful, IMHO, is:</p>
<p>bc. ^D ^U scroll half a page up, down</p>
<p>But there are <a href="http://tnerual.eriogerg.free.fr/vimqrc.html.">others</a></p>
<h3 id="adjust-window-size">Adjust Window Size</h3>
<p><code>vsplit</code> is basically the killer feature of Vim. When I showed <a href="http://artzstudio.com">Dave</a> that he could <code>split</code>, <code>vsplit</code>, and re<code>split</code> any number of windows he chose on to infinity he basically flipped. I always keep my windows equally sized with <code>C-W + =</code>, but he wanted to adjust the sizes.</p>
<p>For vertically split windows, use <code>C-W + &lt;</code> to decrease the current window&#39;s size and <code>C-W + &gt;</code> to increase it.</p>
<p>For horizintally split windows, use <code>C-W + plus</code> to make the window taller. (That just broke my typographic convention. It&#39;s control-w plus the, uh, plus key.) Use <code>C-W + -</code> to make the window shorter. (That wasn&#39;t much better, was it?)</p>
<h3 id="clear-search-results-with-leader-space">Clear Search Results with Leader + Space</h3>
<p>I usually clear search results by typing <code>/</code> plus a furious smattering of random letters. Crudely effective. But with the new leader key, I was willing to bind <code>leader + space</code> to accomplish this more elegantly.</p>
<p>bc. nnoremap <leader><space> :noh<cr></p>
<h3 id="add-a-line-of-equal-signs-for-documentation">Add a line of equal signs for documentation</h3>
<p>Lines of equal signs look awesome. Proof:</p>
<h1 id="bc-lines-of-equal-signs-look-awesome">bc. Lines of Equal Signs Look Awesome</h1>
<p>Bind <code>leader + 1</code> (or, you know, <code>leader</code> + ANYTHING) to create a new line below your current line of the same length of equal signs. Nice!</p>
<p>bc. nnoremap <leader>1 yypVr=</p>
<h3 id="more-later">More Later</h3>
<p>I&#39;ll add more to another entry whenever I&#39;ve got too many Vim-related tabs open in Chrome.</p>
</div></article><div id="disqus_thread"><script>var disqus_shortname = 'nateeagle',
	disqus_developer = 1,
	disqus_url = 'http://nateeagle.com';

	(function() {
		var d = document, s = d.createElement('script');
		s.src = `https://${disqus_shortname}.disqus.com/embed.js`;
		s.setAttribute('data-timestamp', +new Date());
		(d.head || d.body).appendChild(s);
	})();</script></div></section><script src="/bundle.js"></script></body></html>